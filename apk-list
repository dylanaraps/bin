#!/usr/bin/env bash
#
# apk-list - list apk packages without splits.

cnt() {
    IFS=' ' tmp["${2//-*/}"]=1
}

declare -A tmp
mapfile -C cnt -c 1 -t pkgs < <(apk info)
printf '%s\n' "${#tmp[@]}"
